<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="container">
      <header class="d-flex justify-content-center py-3">
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a
              href="#"
              class="list-group-item list-group-item-action list-group-item-light active"
              aria-current="page"
              >Postele</a
            >
          </li>
          <li class="nav-item">
            <a
              href="#"
              class="list-group-item list-group-item-action list-group-item-light"
              >Komody</a
            >
          </li>
          <li class="nav-item">
            <a
              href="#"
              class="list-group-item list-group-item-action list-group-item-light"
              >Noční stolky</a
            >
          </li>
        </ul>
      </header>
    </div>
    <div class="container">
      <h1 class="text-center">
        Nářezový plán
        <span class="text-decoration-underline text-primary">postele</span>
        <span class="text-decoration-underline text-primary">Leden</span> 2022
      </h1>
    </div>
    <div class="container">
      <div class="card">
        <div class="card-body">
          <div class="row g-2">
            <div class="col-lg">
              <div class="form-floating">
                <select
                  class="form-select"
                  id="bed_type"
                  aria-label="Floating label select example"
                >
                  <option selected>-</option>
                  <option value="Trio">Trio</option>
                  <option value="Pavel">Pavel</option>
                  <option value="Sany">Sany</option>
                  <option value="Lion">Lion</option>
                  <option value="Brusel">Brusel</option>
                  <option value="Monaco">Monaco</option>
                </select>
                <label for="floatingSelectGrid">Výběr postele</label>
              </div>
            </div>
            <div class="col-lg">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="width"
                />
                <label for="floatingInputGrid">Šířka (mm)</label>
              </div>
            </div>
            <div class="col-lg">
              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="length"
                />
                <label for="floatingInputGrid">Délka (mm)</label>
              </div>
            </div>
            <div class="col-lg">
              <div class="form-floating">
                <select
                  class="form-select"
                  id="floatingSelectGrid"
                  aria-label="Floating label select example"
                >
                  <option selected>-</option>
                  <option value="1">Buk</option>
                  <option value="2">Dub</option>
                </select>
                <label for="floatingSelectGrid">Výběr materiálu</label>
              </div>
            </div>
            <div class="col-lg">
              <div class="form-floating">
                <select
                  class="form-select"
                  id="floatingSelectGrid"
                  aria-label="Floating label select example"
                >
                  <option selected>-</option>
                  <option value="1">28</option>
                  <option value="2">40</option>
                </select>
                <label for="floatingSelectGrid">Síla materiálu</label>
              </div>
            </div>
            <div class="col-lg">
              <div class="form-floating">
                <select
                  class="form-select"
                  id="floatingSelectGrid"
                  aria-label="Floating label select example"
                >
                  <option selected>-</option>
                  <option value="1">Standard</option>
                  <option value="2">do L</option>
                  <option value="3">do U</option>
                </select>
                <label for="floatingSelectGrid">Provedení</label>
              </div>
            </div>

            <div class="col-lg">
              <div class="form-check">
                <label class="form-check-label" for="flexCheckDefault">
                  Stažená?
                </label>
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="flexCheckDefault"
                />
              </div>
            </div>

            <div class="col-lg align-self-center">
              <div class="row">
                <div class="d-grid gap-2 d-md-block text-center">
                  <button
                    id="odd_num_button"
                    class="btn btn-primary"
                    type="button"
                  >
                    -
                  </button>
                  <span id="counter" class="counter">12</span>
                  <button
                    id="add_num_button"
                    class="btn btn-primary"
                    type="button"
                  >
                    +
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br />
      <button id="btn_plus" type="button mb-3" class="btn btn-success">
        + Další položka
      </button>
      <div></div>
      <div class="d-grid justify-content-md-end">
        <button id="count_all_beds" class="btn btn-danger" type="button">Vypočítat nářezy</button>
      </div>
    </div>
  </body>

  <script>
  
    document.getElementById('count_all_beds').addEventListener('click', onClick);
    
    
    function onClick() {
    
    var bed_type = document.getElementById('bed_type').value;
    var width = document.getElementById('width').value;
    var length = document.getElementById('length').value; 
    
    google.script.run.userClicked(bed_type,width, length); 
    document.getElementById('bed_type').value="";
    document.getElementById('width').value="";
    document.getElementById('length').value="";
    }

    let click = Number(document.getElementById('counter').innerHTML);
    document
      .getElementById('add_num_button')
      .addEventListener('click', addBtClick);

    function addBtClick() {
      click = click + 1;
      document.getElementById('counter').innerHTML = click;
      console.log(click);
    }

    document
      .getElementById('odd_num_button')
      .addEventListener('click', oddBtClick);

    function oddBtClick() {
      click = click - 1;
      if(click<=0){
        window.alert("číslo nesmí být 0 nebo menší");
        click = 1;
      }else{
        document.getElementById('counter').innerHTML = click;
      }
      
      console.log(click);
    }


  </script>
</html>
